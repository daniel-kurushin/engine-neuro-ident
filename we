УДК 621.865.8

Информационная система для внутритрубной диагностики на основе интеллектуальной
роботизированной платформы

Д.С. Курушин, Е.В. Пирожкова, Р.А. Файзрахманов,  Д.В. Яруллин

D. S. Kurushin, E.V. Pirozhkova, R. A. Faizrakhmanov, D. V. Yarullin

ПНИПУ, PNRPU.

kurushin.daniel@ya.ru, fayzrakhmanov@gmail.com, d.v.yarullin@ya.ru

Нейросетевая идентификация режимов работы электропривода роботизированной
платформы

= Введение

Большой интерес сегодня представляет вопрос, касающийся автоматического
передвижения наземных транспортных средств. Некоторые из ведущих компаний уже
рассматривают вопросы о реализации или реализовали на данный момент идею об
автоматически передвигающихся автомобилях. Такие компании, как Google, BMW,
Volvo [a12] реализовали данную идею. Автоматическое передвижение роботов
представляет интерес и в других отраслях, таких как медицина, туризм, сфера
продаж. В работах Кошечкина А.А. [a1], Старковой И.В. [a3], Андриановой
О.Г.[a4], Подоплёкина Ю.Ф. [a5], Синициной Н.В. [a6] вопрос о безаварийном
локальном движении рассматриваются с разных точек зрения, что, несомненно,
является признаком интенсивного развития данного направления в мире технологий.

Одной из проблем безаварийного перемещения является идентификация режима работы
электропривода [a13]. Научная новизна данной работы заключается в реализации
нейросетевой модели идентификайии режимов функционирования привода.

= Постановка задачи исследования

Для того чтобы не допустить возникновения аварийной ситуации, необходимо
осуществлять мониторинг параметров роботизированной платформы. Для того чтобы
определить перечень потенциальных угроз корректного функционирования МРК,
необходимо разобраться с источниками угроз.

1) Наезд на препятствие. Поскольку препятствия могут быть не только
статическими, но и динамическими, имеется реальная угроза возникновения такого
рода препятствия на пути следования МРК, не распознанными при передаче с СТЗ и
дальномеров.

2) Яма. Поскольку проседание в яму может повлечь за собой поломку частей МРК,
необходимо осторожно преодолевать такого рода препятствие. Для начала,
определить тип поверхности, по которой происходит движение. При движении по
дороге необходимо оценить глубину ямы и в случае допустимой высоты снизить
скорость и проехать, иначе – объехать яму. При движении по неасфальтированной
дороге яма представляет собой потенциальную угрозу и лучше объехать яму ввиду
того, что грунт может просесть и привести к застреванию МРК.

3) Проскальзывание/пробуксовка. Не всегда поверхность, по которой осуществляется
движение МРК, идеальна. Поэтому может случиться такое, что платформа просто не
сможет ехать по поверхности ввиду плохого сцепления или рыхлости дороги. Так же
возможен вариант наезда на препятствие, которое не было определено СТЗ и
дальномерами, в этом случае МРК упрется колесами и так же будет осуществляться
пробуксовка.

4) Вибрации. По типу и характеру вибраций можно определить состояние
работоспособности МРК, возможные неполадки и т.п. Поэтому при превышении или
понижении уровня вибраций необходимо вывести сообщение об этом.

5) Обрыв тока. Повреждения, связанные с платформой, могут вывести из строя
какие-либо цепи МРК. Отслеживание работоспособности цепей можно осуществить с
помощью контроля напряжения. В случае превышения максимального потребления
электроэнергии и потребления ниже минимального необходимо вывести сообщение о
потенциальном обрыве цепи или коротком замыкании, что, в свою очередь, может
помочь избежать перегорания частей цепи.

Традиционно, применяется подход связанный с использованием разнообразных
датчиков, считывающих параметры работы тех или иных подсистем робота. Например,
при определения пробуксовки применяют щелевые или индуктивные датчики,
смонтированные в колесном приводе. Однако этот подход не лишен недостатков.
Датчик может выйти из строя, в его работе могут возникнуть помехи, вызванные
средой функционирования и т.п. Оптимальным решением может быть минимизация
номенклатуры и количества датчиков и вычисление параметров движения платформы
"интеллектуальными" методами. В нашей работе мы рассматриваем возможность 
идентификации режима работы коллекторного двигателя постоянного тока 
при помощи нейросетевой модели. Аналогичный подход может быть применен
(с рядом ограничений) и к работе других схем управления движением.


= Прогнозирование возникновения опасных режимов функционирования

При работе электродивгателя неизбежно возникает обратная связь по току, 
возбуждаемому в обмотках якоря/статора, зависящая от условий его работы [a14].

Список опасных режимов функционирования был приведен в п.1.4. Методы, с помощью которых удастся избежать опасности, базируются на данных, получаемых с датчиков.
Модель предсказания режимов работы на основе нейросети: на вход подаётся АЧХ, далее происходит аппроксимация и предсказание следующего значения, тем самым, предотвращая появление опасного режима функционирования. Пусть АЧХ имеет вид (рисунок 11):

Рисунок 11 – График АЧХ
Аппроксимация данного графика АЧХ с использованием нейросети выглядит следующим образом (рисунок 12):

Рисунок 12 – Аппроксимация графика АЧХ
Нейронная сеть, выполняющая аппроксимацию, представлена на рисунке 13:

Рисунок 13 – Нейросеть, выполняющая аппроксимацию
На вход данной нейросети подаётся АЧХ некоторого процесса, на выходе получается функция, согласно которой и можно осуществлять прогнозирование возникновения опасных режимов функционирования МРК.
Далее необходимо осуществить распознавание прогнозируемого опасного режима функционирования. Для этого на вход нейросети подаются коэффициенты АЧХ, на выходе получаем значения вероятностей каждой из ситуаций опасных режимов функционирования. Количество нейронов скрытого слоя определяется по формуле (19):

(19)
где k – количество нейронов, n – количество входов, m – количество выходов. В данном случае, количество входов соответствует количеству коэффициентов АЧХ, то есть, 10. Количество выходов соответствует количеству ситуаций опасных режимов функционирования МРК, то есть, 5. Итоговое количество нейронов скрытого слоя . Изображение нейросети с некоторыми коэффициентами АЧХ и вероятностями опасных режимов функционирования представлено на рисунке 14.

Рисунок 14 – Нейросеть, определяющая прогнозирование вероятностей возникновения опасных режимов функционирования
После определения вероятности возникновения той или иной ситуации опасного режима функционирования необходимо предпринять действия для предотвращения аварии. Действия, предпринимаемые в случае возникновения опасного режима функционирования:
1) Избегание наезда на препятствие. С целью выявления текущей опасности необходимо, чтобы один дальномер не принимал участия в построении матрицы вероятностей встретить препятствие, а выявлял препятствия непосредственно перед МРК. В случае выявления препятствия, необходимо сделать остановку на 10 секунд, чтобы, если препятствие динамическое, оно удалилось, а если препятствие остается, то объехать его. Объезд осуществляется с помощью построения новой траектории движения с новой картой вероятности встретить препятствие и функцией поверхности.
2) Яма. Для того чтобы не застрять в яме, необходимо иметь данные о параметрах ямы и типе дорожного покрытия. В случае движения по асфальтированной дороге при глубине ямы не более максимально возможного преодолеваемого подъема необходимо снизить скорость и продолжить движение. В случае глубины ямы больше необходимого или же при движении по грунту необходимо объехать яму и продолжить движение. Яма в данном случае расценивается как препятствие и объезжается по схожему алгоритму.
3) Обрыв тока. Для контроля обрыва тока необходимо получать данные с датчиков тока. Отслеживание АЧХ тока и напряжения помогут определить характер аварии, эти данные не должны выходить за установленные рамки. При возникновении обрыва необходимо прекратить движение и сообщить об ошибке.
4) Проскальзывание/пробуксовка. Для выявления этого вида опасности необходимо сравнивать текущее значение оборотов колес с ожидаемым значением, вычисляемым программным путем. В случае расхождения реальных и ожидаемых оборотов колес необходимо либо снизить число оборотов, либо увеличить, в зависимости от разности.
5) Вибрации. Для этого необходимы данные с датчика удара и при превышении или понижении уровня вибраций тут же вывести сообщение о потенциальной неисправности.
2.9 Определение характерных значений измеряемых показателей
2.9.1 Определение общих значений
Высота преодолеваемого препятствия и угла, на который можно осуществить подъем, определены в таблице 1. Угол = 15°, высота = 14 см. На рисунке 15 представлены преодолеваемые МРК препятствия.

Рисунок 15 – Преодолеваемые МРК препятствия
Для расчета данных электрических цепей необходимо провести замерения каждой из них. Всего в МРК расположено три электрических цепи. Первые две цепи питают шасси, тормоза и привод – 48V, рулевое управление – 12V. Все датчики и электроника подключены к третьей электрической цепи питания 12V.
При повышенном энергопотреблении необходимо сообщать о возможных неисправностях. Данные о нижнем и верхнем уровне энергопотребления получить либо из документации, либо экспериментальным путём.
2.9.2 Значения энергопотребления
Экспериментально было установлено, при каких значениях диагностируются три состояния: обрыв питания, нормальная работа и перегрузка. Для этого вычисляется АЧХ тока и АЧХ напряжения. Для этого были проведены измерения значений тока и напряжения для этих состояний. Так же было проведено измерение АЧХ для 10 частот из интервала (0-1000) Гц с выводом двух типов данных: максимального и минимального значений тока или напряжения и разницы между максимальным и минимальным значением тока или напряжения. На рисунке 16 представлены графики измерений тока для трех состояний. На рисунке 17 – измерений напряжения.

Рисунок 16 – Графики потребления тока при трех режимах работы

Рисунок 17 – Графики напряжения при трех режимах работы
На рисунках 18 – 19 представлены АЧХ тока и напряжения при трех режимах.

Рисунок 18 – АЧХ тока при трех режимах

Рисунок 19 – АЧХ напряжения при трёх режимах
Сверяясь с данными графиками во время работы МРК, можно отметить повышенные и пониженные режимы работ, тем самым определив неисправность.
Для получения перечня всевозможных аварийных ситуаций можно воспользоваться таблицей с перечнем данных по параметрам, характерным при работе рассматриваемой подсистемы. Рассматриваемые подсистемы: тормозная система, рулевое управление и подвес стереокамеры.
2.9.3 Определение значений параметров рулевого управления
При работе рулевого управления перечень параметров, по которым можно идентифицировать аварийную работу, это:
1. Данные датчика поворота колес.
2. Потребление электрического тока.
3. Наличие вибрационных явлений.
4. Курс движения.
5. Срабатывание концевого датчика.
Пункты 4 и 5 являются необязательными, поскольку имеют значение в небольшом перечне аварийных ситуаций, поэтому основными являются пункты 1-3. В таблице 2 приведен перечень возможных значений по каждому из пунктов. Каждая аварийная ситуация будет характеризоваться строкой из пяти цифр, заключенных в квадратные скобки, каждое из чисел которого определяет значение параметра: [P1, P2, P3, P4, P5]
Таблица 2 –  Принимаемые значения параметров рулевого управления
№ п/п
Возможные значения
1
1
0


2
-1
0
+1

3
-1
0
+1

4
-1
0
+1

5
1
2
0
-1
В таблице 2 обозначения -1, 0 и +1 означают меньше нормы, норма и больше нормы соответственно. В параметре 5 1 и -1 – срабатывание правого и левого датчиков соответственно, 0 – отсутствие срабатываний обоих датчиков, 2 – срабатывание двух концевых датчиков.
При комбинации [1, -1, -1, 0, 0] определяется соскок рулевого механизма, в этом случае необходимо прекратить движение и сообщить о поломке. При комбинации [1, +1, 0/+1, +1, 0] определяется неполадка концевого датчика, в этом случае необходимо остановиться и повернуть колеса в крайние положения 3 раза, в случае повторения этой комбинации как минимум 2 из 3 раз сообщить о поломке датчика. При комбинации [1, 0, 0, -1, *], где * - любое из возможных значений, принимаемых параметром, можно определить отсутствие возможности поворота колес, тем самым установить нахождение МРК в колее, решением в данном случае будет изменение маршрута движения. При комбинации [1, +1, +1, -1, *] можно определить то, что заклинило поворотный механизм, в этом случае необходимо отъехать назад и изменить направление, в случае повторения данной комбинации – прекратить движение и сообщить о поломке.
2.9.4 Определение значений параметров тормозной системы
При определении аварийных ситуаций тормозной системы можно опираться на следующие параметры:
1. При включении питания подача тока на компрессор.
2. Изменение скорости при торможении.
Оба параметра характеризуются значениями +1, 0, -1, т.е., больше нормы, норма и меньше нормы соответственно.
При комбинации [+1, 0] можно заметить потребление тока выше нормы и диагностировать неполадки с токопотреблением и сообщить об ошибке. При комбинации [0, +1] можно диагностировать слишком большое давление и сообщить об этом. При комбинации [0, -1] можно установить недостаточное давление и так же сообщить об этом. При комбинации [-1, -1] можно определить недостаточное питание, идущее на компрессор, в этом случае необходимо снизить скорость до минимально возможной и осуществлять движение, избегая резких спусков, а так же сообщить о проблеме.
 2.9.5 Определение значений параметров подвеса камеры
Поскольку невозможно осуществить построение траектории движения МРК без данных, полученных от СТЗ, очень важно вовремя установить поломку подвеса камеры. В случае отсутствия поворота стереопары необходимо определить, в каком направлении остановилась камера. Если направление камеры вперед, то можно продолжить движение, сообщив о поломке. Если же камера направлена не вперед, то необходимо прекратить движение, сообщив о поломке, поскольку в этом случае движение чревато поломкой МРК.
2.9.6 Определение неисправностей на основании вибраций
Ввиду того, что характер и частота вибраций могут сообщить о наличии каких-либо неисправностей или же являться признаком корректной работы, мониторинг уровня вибраций может спрогнозировать или диагностировать аварийный режим функционирования МРК. У элементов МРК имеются собственные вибрации, а так же вибрации, создаваемые при движении по поверхности, таким образом, необходимо определить значения, при которых будет диагностироваться состояние покоя, работы или пробуксовки.
Графики вибраций при трёх состояниях показаны на рисунках 20 – 22. На графиках показаны изменения координат по осям X, Y, Z.

Рисунок 20 – Вибрации в состоянии покоя

Рисунок 21 – Вибрации в состоянии нормальной работы

Рисунок 22 – Вибрации при пробуксовке
Для определения АЧХ вибраций необходимо произвести разделение по частотам и вычислить амплитуду. Частоту 500Гц необходимо разделить на 9 частей и произвести вычисление АЧХ. На рисунках 23-25 представлены АЧХ вибраций для трех состояний: состояние покоя, нормальной работы и пробуксовки.

Рисунок 23 – АЧХ режима пробуксовки

Рисунок 24 – АЧХ состояния нормальной работы

Рисунок 25 – АЧХ состояния покоя
Полученные АЧХ вибраций в дальнейшем будут считаться эталонными значениями при определении состояния платформы.
Выводы по разделу 2
Во втором разделе магистерской диссертации произведен выбор метода оптимизации, так же дано математическое описание построения траектории. Так же был определен метод получения функции поверхности. Экспериментальным путём были получены данные, характерные для различных режимов функционирования МРК, на основании этих данных были сформированы методы определения неисправностей.
